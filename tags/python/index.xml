<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>python on 日々のChangeLog</title><link>https://ozw-sei.github.io/tags/python/</link><description>Recent content in python on 日々のChangeLog</description><generator>Hugo -- gohugo.io</generator><language>ja</language><copyright>©{year}, All Rights Reserved</copyright><lastBuildDate>Sun, 23 Feb 2020 22:06:17 +0900</lastBuildDate><atom:link href="https://ozw-sei.github.io/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>Pythonのデータクラスをdictionaryからデシリアライズする書き方</title><link>https://ozw-sei.github.io/posts/python-dataclass-from-dictionary/</link><pubDate>Sun, 23 Feb 2020 22:06:17 +0900</pubDate><guid>https://ozw-sei.github.io/posts/python-dataclass-from-dictionary/</guid><description>Pythonのデータクラスをdictionaryからデシリアライズする書き方 同僚のコードレビューをしていたえときにレスポンスのdictをそのまま使っていたのだけど、 「短いコードだから辞書のままで良くない？class書くのボイラープレート多いし」と心の声が聞こえたので覚書。
Python3.7以降ならば動作するはず。
キーが足りないと動かないので注意
from dataclasses import dataclass @dataclass class Person: name: str home_town: str age: int source_dict = { &amp;quot;name&amp;quot;: &amp;quot;Mother Fxxer&amp;quot;, &amp;quot;home_town&amp;quot;: &amp;quot;Kick Ass&amp;quot;, &amp;quot;age&amp;quot;: 16 } # 普通に作る normal = Person(&amp;quot;Mother Fxxer&amp;quot;, &amp;quot;Kick Ass&amp;quot;, 16) # 辞書から作る from_dict = Person(**source_dict) print(normal == from_dict) ## おまけ # キーが足りない場合 source_dict = { } from_dict = Person(**source_dict) # Traceback (most recent call last): # File &amp;quot;qr_Z3i1cj&amp;quot;, line 27, in &amp;lt;module&amp;gt; # from_dict = Person(**source_dict) # TypeError: __init__() missing 3 required positional arguments: 'name', 'home_town', and 'age'</description></item></channel></rss>